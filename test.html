<!DOCTYPE html>
<html>
<head>
    <title>K-Router</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" media="all" href="doc_theme/main.css" />
    <script type="text/javascript">
        document.addEventListener('click', function (e) {
            if (e.target.tagName === 'DT') {
                [].forEach.call(document.querySelectorAll('dt.expanded'), function (el) {
                    if (el !== e.target) el.classList.remove('expanded');
                });
                e.target.classList.toggle('expanded');
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="page">
            <div class="header">
                <h1>K-Router</h1>
            </div>
            <blockquote>
                <p>Â© Keith Cirkel</p>
                <p>K-Router may be freely distributed under the MIT license.</p>
                <p>For all details and documentation:
                <a href="http://github.com/keithamus/k-router">http://github.com/keithamus/k-router</a></p>
            </blockquote>
            <p>
                This is the spec documentation for K-Router, generated by Mocha. If you want to
                see more detailed documentation about K-Router, check out the <a href="index.html">
                index.html page</a>
            </p>    <section class="suite">
      <h1>Router</h1>
      <dl>
        <dt>is passed through to app.use, with config argument</dt>
        <dd><pre><code>app.use(router({ }));</code></pre></dd>
        <dt>exposes a `.route` property through exports, so it can be required in</dt>
        <dd><pre><code>app.use(router({ }));

        router.route
            .should.be.a('function');

        router.resource
            .should.be.a('function');</code></pre></dd>
        <dt>has an alias for `.route` as `.route.route`</dt>
        <dd><pre><code>app.use(router({ app: app }));

        router.route
            .should.be.a('function');

        router.route.route
            .should.equal(router.route);</code></pre></dd>
        <section class="suite">
          <h1>.route</h1>
          <dl>
            <section class="suite">
              <h1>basic routing</h1>
              <dl>
                <dt>allows binding of routes</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond', 'GET');

                request(app).get('/x/y/z')
                    .expect(200)
                    .end(next);</code></pre></dd>
                <dt>allows lower case HTTP verbs</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond', 'get');

                request(app).get('/x/y/z')
                    .expect(200)
                    .end(next);</code></pre></dd>
                <dt>only matches the path</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond', 'get');

                request(app).get('/x/y/z?v=1&amp;x=2')
                    .expect(200)
                    .end(next);</code></pre></dd>
                <dt>will throw an error when using an invalid HTTP verb</dt>
                <dd><pre><code>var fn;

(fn = function () { router.route('/x/y/z', view, 'respond', 'FOO'); })
    .should.throw('Invalid HTTP method: FOO');</code></pre></dd>
                <dt>accepts regular expressions as the route</dt>
                <dd><pre><code>router.route(/^\/x\/y\/z$/i, view, 'respond', 'GET');

                request(app).get('/x/y/z')
                    .expect(200)
                    .end(next);</code></pre></dd>
                <dt>passes req, res and next functions to the method</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond', 'GET');

                view.respond = function (request, response, next) {

                    request
                        .should.be.an('object');

                    response
                        .should.be.an('object');

                    next
                        .should.be.a('function');

                    next();
                };

                request(app).get('/x/y/z')
                    .expect(404)
                    .end(next);</code></pre></dd>
                <dt>will default the HTTP verb to GET, if omitted</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond');

                request(app).get('/x/y/z')
                    .expect(200)
                    .end(next);</code></pre></dd>
                <dt>is only bound to that exact route</dt>
                <dd><pre><code>app.use(connect.errorHandler());

                router.route('/x/y/z', view, 'respond', 'GET');

                request(app).get('/x/y/z/a')
                    .expect(404)
                    .end(next);</code></pre></dd>
                <dt>will 405 if given a different HTTP verb</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond', 'PUT');
                app.use(connect.errorHandler());

                request(app).get('/x/y/z').expect(405).expect('Allow', 'PUT').end(next);</code></pre></dd>
                <dt>can be bound to multiple verbs, and only one verb's method will fire</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respondPut', 'PUT');
                router.route('/x/y/z', view, 'respondGet', 'GET');
                app.use(connect.errorHandler());

                view.respondPut = function (req, res) {
                    res.statusCode = 200;
                    res.end('Put');
                };

                view.respondGet = function (req, res) {
                    res.statusCode = 200;
                    res.end('Get');
                };

                request(app).get('/x/y/z').expect(200).expect('Get').end(function () {
                    request(app).put('/x/y/z').expect(200).expect('Put').end(next);
                });</code></pre></dd>
                <dt>can be bound to multiple verb, and requests to other verbs will 405 with correct Allow header</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respondPut', 'PUT');
                router.route('/x/y/z', view, 'respondGet', 'GET');
                app.use(connect.errorHandler());

                view.respondPut = function (req, res) {
                    res.statusCode = 200;
                    res.end('Put');
                };

                view.respondGet = function (req, res) {
                    res.statusCode = 200;
                    res.end('Get');
                };

                request(app).post('/x/y/z').expect(405).expect('Allow', 'GET, PUT').end(next);</code></pre></dd>
              </dl>
            </section>
            <section class="suite">
              <h1>case sensitivity</h1>
              <dl>
                <dt>will be insensitive by default</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond', 'GET');

                request(app).get('/x/Y/z')
                    .expect(200)
                    .end(next);</code></pre></dd>
                <dt>will be sensitive when configured with urlsCaseSensitive: true</dt>
                <dd><pre><code>app.use(router({ urlsCaseSensitive: true }));

                router.route('/x/y/z', view, 'respond', 'GET');

                request(app).get('/x/Y/z')
                    .expect(404)
                    .end(next);</code></pre></dd>
              </dl>
            </section>
            <section class="suite">
              <h1>trailing slashes</h1>
              <dl>
                <dt>will be be allowed and matched by default</dt>
                <dd><pre><code>router.route('/x/y/z', view, 'respond', 'GET');

                request(app).get('/x/y/z/')
                    .expect(200)
                    .end(next);</code></pre></dd>
                <dt>will not be matched with when configured with urlsAllowTrailingSlashes: true is passed</dt>
                <dd><pre><code>app.use(router({ urlsAllowTrailingSlashes: true }));

                router.route('/x/y/z', view, 'respond', 'GET');

                request(app).get('/x/y/z/')
                    .expect(404)
                    .end(next);</code></pre></dd>
              </dl>
            </section>
            <section class="suite">
              <h1>with parameters</h1>
              <dl>
                <dt>injects named parameters into req.params</dt>
                <dd><pre><code>router.route('/x/y/:name/:age', view, 'respond', 'GET');

                view.respond = passErrorToCallback(next, function (req, res) {
                    req.params
                        .should.be.an('array');

                    req.params.name
                        .should.equal('foo');

                    req.params.age
                        .should.equal('21');

                    res.end('');

                });

                request(app).get('/x/y/foo/21').end(next);</code></pre></dd>
                <dt>does not match URLs with incomplete parameter sets</dt>
                <dd><pre><code>router.route('/x/y/:name/:age', view, 'respond', 'GET');

                request(app).get('/x/y/foo').expect(404).end(next);</code></pre></dd>
                <dt>decodes URI encoded parameters</dt>
                <dd><pre><code>router.route('/x/y/:name', view, 'respond', 'GET');

                view.respond = passErrorToCallback(next, function (req, res) {
                    req.params
                        .should.be.an('array');

                    req.params.name
                        .should.equal('hey,foo=:D');

                    res.end('');

                });

                request(app).get('/x/y/hey%2Cfoo%3D%3AD').end(next);</code></pre></dd>
                <dt>injects non-named parameters into req.params as array values</dt>
                <dd><pre><code>router.route('/x/y/*', view, 'respond', 'GET');

                view.respond = passErrorToCallback(next, function (req, res) {

                    req.params
                        .should.be.an('array');

                    req.params
                        .should.deep.equal(['foo/bar/baz/']);

                    res.end('');

                });

                request(app).get('/x/y/foo/bar/baz/').end(next);</code></pre></dd>
                <dt>injects regex match groups into req.params with indexes</dt>
                <dd><pre><code>router.route(/^\/(\w)\/(\w)\/(\w)\/?$/, view, 'respond', 'GET');

                view.respond = passErrorToCallback(next, function (req, res) {

                    req.params
                        .should.be.an('array');

                    req.params
                        .should.deep.equal(['foo', 'bar', 'baz']);

                    res.end('');

                });

                request(app).get('/foo/bar/baz/').end(next);</code></pre></dd>
              </dl>
            </section>
            <section class="suite">
              <h1>with optional parameters</h1>
              <dl>
                <dt>will route to urls with optional parameters being supplied</dt>
                <dd><pre><code>router.route('/x/y/:name/:other?', view, 'respond', 'GET');

                view.respond = passErrorToCallback(next, function (req, res) {

                    req.params
                        .should.be.an('array');

                    req.params.name
                        .should.equal('foo');

                    req.params.other
                        .should.equal('bar');

                    res.end('');

                });

                request(app).get('/x/y/foo/bar').end(next);</code></pre></dd>
                <dt>will route to urls without the optional parameters being supplied</dt>
                <dd><pre><code>router.route('/x/y/:name/:other?', view, 'respond', 'GET');

                view.respond = passErrorToCallback(next, function (req, res) {

                    req.params
                        .should.be.an('array');

                    req.params.name
                        .should.equal('foo');

                    should.not.exist(req.params.other);

                    res.end('');

                });

                request(app).get('/x/y/foo').end(next);</code></pre></dd>
              </dl>
            </section>
          </dl>
        </section>
        <section class="suite">
          <h1>.resouces</h1>
          <dl>
            <dt>binds a route of the URL as a GET to controller#list</dt>
            <dd><pre><code>request(app).get('/x/y/z').expect(200).expect('list').end(next);</code></pre></dd>
            <dt>binds a route of the URL + &quot;/new&quot; as a GET to controller#new</dt>
            <dd><pre><code>request(app).get('/x/y/z/new').expect(200).expect('new').end(next);</code></pre></dd>
            <dt>binds a route of the URL as a POST to controller#create</dt>
            <dd><pre><code>request(app).post('/x/y/z').expect(200).expect('create').end(next);</code></pre></dd>
            <dt>binds a route of the URL + an ID as a GET to controller#show</dt>
            <dd><pre><code>request(app).get('/x/y/z/foo').expect(200).expect('show:foo').end(next);</code></pre></dd>
            <dt>binds a route of the URL + an ID + &quot;/edit&quot; as a GET to controller#edit</dt>
            <dd><pre><code>request(app).get('/x/y/z/foo/edit').expect(200).expect('edit:foo').end(next);</code></pre></dd>
            <dt>binds a route of the URL + an ID as a PUT to controller#update</dt>
            <dd><pre><code>request(app).put('/x/y/z/foo').expect(200).expect('update:foo').end(next);</code></pre></dd>
            <dt>binds a route of the URL + an ID as a PATCH to controller#update</dt>
            <dd><pre><code>request(app).patch('/x/y/z/foo').expect(200).expect('update:foo').end(next);</code></pre></dd>
            <dt>binds a route of the URL + an ID as a DELETE to controller#destroy</dt>
            <dd><pre><code>request(app).del('/x/y/z/foo').expect(200).expect('destroy:foo').end(next);</code></pre></dd>
            <dt>returns a 405 for POSTing to the URL + &quot;/new&quot;</dt>
            <dd><pre><code>request(app).post('/x/y/z/new').expect(405).end(next);</code></pre></dd>
            <dt>returns a 405 for DELETEing to the URL + &quot;/new&quot;</dt>
            <dd><pre><code>request(app).post('/x/y/z/new').expect(405).end(next);</code></pre></dd>
            <dt>returns a 405 for PUTing to the URL </dt>
            <dd><pre><code>request(app).put('/x/y/z').expect(405).end(next);</code></pre></dd>
            <dt>returns a 405 for DELETEing to the URL </dt>
            <dd><pre><code>request(app).del('/x/y/z').expect(405).end(next);</code></pre></dd>
            <dt>returns a 405 for POSTing to the URL + ID</dt>
            <dd><pre><code>request(app).post('/x/y/z/foo').expect(405).end(next);</code></pre></dd>
            <dt>only binds routes if the function is present</dt>
            <dd><pre><code>delete view.destroy;
            router(); // Reconfigure and empty existing routes
            router.route.resources('/x/y/z', view);

            request(app).del('/x/y/z/foo').expect(405).end(next);</code></pre></dd>
            <dt>only binds routes if the function is present</dt>
            <dd><pre><code>delete view.edit;
            router(); // Reconfigure and empty existing routes
            router.route.resources('/x/y/z', view);

            request(app).del('/x/y/z/bar/edit/').expect(404).end(next);</code></pre></dd>
          </dl>
        </section>
        <section class="suite">
          <h1>.resouce</h1>
          <dl>
            <dt>binds a route of the URL as a GET to controller#show</dt>
            <dd><pre><code>request(app).get('/x/y/z').expect(200).expect('show').end(next);</code></pre></dd>
            <dt>binds a route of the URL + &quot;/new&quot; as a GET to controller#new</dt>
            <dd><pre><code>request(app).get('/x/y/z/new').expect(200).expect('new').end(next);</code></pre></dd>
            <dt>binds a route of the URL as a POST to controller#create</dt>
            <dd><pre><code>request(app).post('/x/y/z').expect(200).expect('create').end(next);</code></pre></dd>
            <dt>binds a route of the URL + &quot;/edit&quot; as a GET to controller#edit</dt>
            <dd><pre><code>request(app).get('/x/y/z/edit').expect(200).expect('edit').end(next);</code></pre></dd>
            <dt>binds a route of the URL as a PUT to controller#update</dt>
            <dd><pre><code>request(app).put('/x/y/z').expect(200).expect('update').end(next);</code></pre></dd>
            <dt>binds a route of the URL as a DELETE to controller#destroy</dt>
            <dd><pre><code>request(app).del('/x/y/z').expect(200).expect('destroy').end(next);</code></pre></dd>
            <dt>returns a 404 for GETing to the URL + ID</dt>
            <dd><pre><code>request(app).get('/x/y/z/foo').expect(404).end(next);</code></pre></dd>
            <dt>returns a 404 for POSTing to the URL + ID</dt>
            <dd><pre><code>request(app).post('/x/y/z/foo').expect(404).end(next);</code></pre></dd>
            <dt>returns a 404 for PUTing to the URL + ID</dt>
            <dd><pre><code>request(app).put('/x/y/z/foo').expect(404).end(next);</code></pre></dd>
            <dt>returns a 404 for PATCHing to the URL + ID</dt>
            <dd><pre><code>request(app).patch('/x/y/z/foo').expect(404).end(next);</code></pre></dd>
            <dt>returns a 404 for DELETEing to the URL + ID</dt>
            <dd><pre><code>request(app).del('/x/y/z/foo').expect(404).end(next);</code></pre></dd>
            <dt>returns a 405 for POSTing to the URL + &quot;/new&quot;</dt>
            <dd><pre><code>request(app).post('/x/y/z/new').expect(405).end(next);</code></pre></dd>
            <dt>returns a 405 for DELETEing to the URL + &quot;/new&quot;</dt>
            <dd><pre><code>request(app).post('/x/y/z/new').expect(405).end(next);</code></pre></dd>
          </dl>
        </section>
      </dl>
    </section>

        <div class="fleur">h</div>
        </div>
    </div>
</body>
</html>